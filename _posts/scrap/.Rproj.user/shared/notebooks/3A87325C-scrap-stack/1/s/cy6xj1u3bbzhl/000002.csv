"0","related_tags <- function(lenguaje) {"
"0","  # creamos esta bandera para identificar que es el primer ciclo for"
"0","  flag_first <- T"
"0","  for (i in lenguaje) {"
"0","    cat(""----------------------\n"","
"0","        ""Extrayendo: "",i,""\n"","
"0","        ""======================\n"")"
"0","    #en caso de que el nombre sea ""c#"" la url de stackoverflow la combierte en el tag"
"0","    # ""c%223"" lo mismo sucede con ""c++"" lo vuelve ""c%2b%2b"" por lo tanto haremos lo mismo"
"0","    i <- ifelse(i==""c#"",""c%23"",i)"
"0","    i <- ifelse(i==""c++"",""c%2b%2b"",i)"
"0","    "
"0","    # creamos la url con el nombre del tag"
"0","    url <- paste0('https://stackoverflow.com/questions/tagged/',i)"
"0","    webpage <- read_html(url)"
"0","    # buscamos cuantas veces el tag secundario se asocia con el tag popular"
"0","    count_html <- html_nodes(webpage,'.item-multiplier-count')"
"0","    count <- html_text(count_html)"
"0","    "
"0","    # buscamos el nombre de los lenguajes que mas se taggean con los lenguajes populares"
"0","    rank_data_html <- html_nodes(webpage,'.js-gps-related-tags')"
"0","    character<- as.character(rank_data_html)"
"0","    strsplit <- strsplit(character,"" "")%>% unlist()"
"0","    "
"0","    #despues de separar buscamos en que filas se encuentran los tag que nos importan "
"0","    grep <- grep(paste0(""/questions/tagged/"",i),strsplit, value = T)"
"0","    grep <- gsub(paste0(""href=\""/questions/tagged/"",i,""+""),"""",grep)"
"0","    grep <- gsub(""\"""","""",grep)"
"0","    second_tag <- substr(grep,2,nchar(grep))"
"0","    popular <- rep(i,length(substr))"
"0","    cbind <-  cbind(popular,second_tag) %>% cbind(count)"
"0","    "
"0","    if(flag_first)  {"
"0","      related_tags <- cbind"
"0","      flag_first <- F"
"0","      }else {related_tags <- rbind(related_tags,cbind)}"
"0","  }"
"0","  "
"0","  related_tags <- related_tags %>% data.frame(stringsAsFactors = F)"
"0","  related_tags$count <-  related_tags$count %>% as.numeric()"
"0","  related_tags"
"0","}"
